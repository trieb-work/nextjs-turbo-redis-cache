<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/1c814791fda08b7c.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/26ba00315375c758.js"/><script src="/_next/static/chunks/1a8246f5a7ebfa87.js" async=""></script><script src="/_next/static/chunks/d29a6e46bdfc2db0.js" async=""></script><script src="/_next/static/chunks/a495879eddf7a9dc.js" async=""></script><script src="/_next/static/chunks/turbopack-9e96d13bf3174735.js" async=""></script><script src="/_next/static/chunks/bf03c64082274500.js" async=""></script><script src="/_next/static/chunks/9020777aafbedda0.js" async=""></script><script src="/_next/static/chunks/bd6cdac766e7e141.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><!--&--><!--&--><!--&--><main class="mx-auto max-w-3xl p-10"><div class="mb-6"><a class="text-sm text-blue-600 hover:underline" href="/cache-lab">← Back to Cache Lab</a></div><header class="mb-6"><h1 class="text-2xl font-semibold">SWR: stale-while-revalidate (slow)</h1><p class="mt-2 text-sm text-slate-600">This page is designed to make stale-while-revalidate behavior visible. The cached function sleeps ~3 seconds whenever it really runs.</p></header><!--$?--><template id="B:0"></template><div class="rounded-lg border bg-slate-50 p-5 text-sm text-slate-700">Loading cached content… (first time can take ~3s)</div><!--/$--><div class="mt-6 flex flex-col gap-3 sm:flex-row"><form action="" encType="multipart/form-data" method="POST"><input type="hidden" name="$ACTION_ID_00ffbc1eac92f9aa36c3bc0a7c6ab396c7debf62f7"/><button class="w-full rounded-md border border-blue-600 bg-white px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-50" type="submit">revalidateTag(&#x27;cache-lab:swr&#x27;)</button></form></div><div class="mt-6 rounded-lg border bg-slate-50 p-5 text-sm text-slate-700"><div class="space-y-2"><p class="font-medium">How to observe SWR (non-blocking)</p><p>1) Load this page once (expect ~3s on the very first load).</p><p>2) Wait ~3 seconds so the entry becomes <code>stale</code> <!-- -->(stale=2s).</p><p>3) Click <code>revalidateTag</code>.</p><p>4) Immediately reload the page:</p><div class="rounded bg-white p-3 text-xs">If SWR is working, the reload should be fast and you may still see the old computedAt/value (stale served).<br/>Reload again after ~3-4 seconds and you should see a new computedAt/value.<br/>If SWR is not working, the reload will block for ~3 seconds.</div><div class="text-xs text-slate-500">cacheLife: <!-- -->{ stale: 2, revalidate: 8, expire: 60 }</div></div></div></main><!--$--><!--/$--><!--/&--><!--/&--><!--/&--><script>requestAnimationFrame(function(){$RT=performance.now()});</script><script src="/_next/static/chunks/26ba00315375c758.js" id="_R_" async=""></script>