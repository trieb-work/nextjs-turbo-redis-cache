module.exports=[51187,(a,b,c)=>{b.exports=a.x("next/dist/server/lib/incremental-cache/tags-manifest.external.js",()=>require("next/dist/server/lib/incremental-cache/tags-manifest.external.js"))},83844,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(85948);a.n(d("[project]/node_modules/.pnpm/next@16.1.1_@babel+core@7.28.5_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js <module evaluation>"))},34420,(a,b,c)=>{let{createClientModuleProxy:d}=a.r(85948);a.n(d("[project]/node_modules/.pnpm/next@16.1.1_@babel+core@7.28.5_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js"))},57865,a=>{"use strict";a.i(83844);var b=a.i(34420);a.n(b)},30155,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return i},useLinkStatus:function(){return h.useLinkStatus}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(54508),g=a.r(62028),h=f._(a.r(57865));function i(a){let b=a.legacyBehavior,c="string"==typeof a.children||"number"==typeof a.children||"string"==typeof a.children?.type,d=a.children?.type?.$$typeof===Symbol.for("react.client.reference");return!b||c||d||(a.children?.type?.$$typeof===Symbol.for("react.lazy")?console.error("Using a Lazy Component as a direct child of `<Link legacyBehavior>` from a Server Component is not supported. If you need legacyBehavior, wrap your Lazy Component in a Client Component that renders the Link's `<a>` tag."):console.error("Using a Server Component as a direct child of `<Link legacyBehavior>` is not supported. If you need legacyBehavior, wrap your Server Component in a Client Component that renders the Link's `<a>` tag.")),(0,g.jsx)(h.default,{...a})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},87983,a=>{"use strict";var b=a.i(62028),c=a.i(59979),d=a.i(11071),e=a.i(8941),f=a.i(30155),g=a.i(45703);let h=async function(){return(0,g.cacheLife)({stale:2,revalidate:8,expire:60}),(0,g.cacheTag)("cache-lab:swr"),await new Promise(a=>setTimeout(a,3e3)),{computedAt:Date.now(),value:Math.random(),note:"This function always sleeps ~3s when it actually executes."}};var i=(0,e.cache)(function(){return(0,d.cache)("default","80e210155e776806a84b22fa0521e9db1719b1e312",0,h,arguments)});(0,c.registerServerReference)(i,"80e210155e776806a84b22fa0521e9db1719b1e312",null),Object.defineProperty(i,"name",{value:"getSlowTaggedValue"});let j=async function(){(0,g.revalidateTag)("cache-lab:swr",{expire:1})};async function k(){let a=await i();return(0,b.jsx)("div",{className:"rounded-lg border p-5",children:(0,b.jsxs)("div",{className:"text-sm text-slate-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:"computedAt:"})," ",(0,b.jsx)("span",{"data-testid":"computedAt",className:"font-mono",children:a.computedAt})]}),(0,b.jsxs)("div",{className:"mt-1",children:[(0,b.jsx)("span",{className:"font-medium",children:"value:"})," ",(0,b.jsx)("span",{"data-testid":"value",className:"font-mono",children:a.value})]}),(0,b.jsx)("div",{className:"mt-1 text-xs text-slate-500",children:a.note})]})})}function l(){return(0,b.jsxs)("main",{className:"mx-auto max-w-3xl p-10",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(f.default,{className:"text-sm text-blue-600 hover:underline",href:"/cache-lab",children:"← Back to Cache Lab"})}),(0,b.jsxs)("header",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"SWR: stale-while-revalidate (slow)"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"This page is designed to make stale-while-revalidate behavior visible. The cached function sleeps ~3 seconds whenever it really runs."})]}),(0,b.jsx)(e.Suspense,{fallback:(0,b.jsx)("div",{className:"rounded-lg border bg-slate-50 p-5 text-sm text-slate-700",children:"Loading cached content… (first time can take ~3s)"}),children:(0,b.jsx)(k,{})}),(0,b.jsx)("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:(0,b.jsx)("form",{action:j,children:(0,b.jsx)("button",{className:"w-full rounded-md border border-blue-600 bg-white px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-50",type:"submit",children:"revalidateTag('cache-lab:swr')"})})}),(0,b.jsx)("div",{className:"mt-6 rounded-lg border bg-slate-50 p-5 text-sm text-slate-700",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"font-medium",children:"How to observe SWR (non-blocking)"}),(0,b.jsx)("p",{children:"1) Load this page once (expect ~3s on the very first load)."}),(0,b.jsxs)("p",{children:["2) Wait ~3 seconds so the entry becomes ",(0,b.jsx)("code",{children:"stale"})," ","(stale=2s)."]}),(0,b.jsxs)("p",{children:["3) Click ",(0,b.jsx)("code",{children:"revalidateTag"}),"."]}),(0,b.jsx)("p",{children:"4) Immediately reload the page:"}),(0,b.jsxs)("div",{className:"rounded bg-white p-3 text-xs",children:["If SWR is working, the reload should be fast and you may still see the old computedAt/value (stale served).",(0,b.jsx)("br",{}),"Reload again after ~3-4 seconds and you should see a new computedAt/value.",(0,b.jsx)("br",{}),"If SWR is not working, the reload will block for ~3 seconds."]}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["cacheLife: ","{ stale: 2, revalidate: 8, expire: 60 }"]})]})})]})}(0,c.registerServerReference)(j,"00ffbc1eac92f9aa36c3bc0a7c6ab396c7debf62f7",null),a.s(["$$RSC_SERVER_ACTION_1",0,j,"$$RSC_SERVER_CACHE_0",()=>i,"default",()=>l])},338,a=>{"use strict";var b=a.i(87983);a.s([],34545),a.i(34545),a.s(["00ffbc1eac92f9aa36c3bc0a7c6ab396c7debf62f7",()=>b.$$RSC_SERVER_ACTION_1,"80e210155e776806a84b22fa0521e9db1719b1e312",()=>b.$$RSC_SERVER_CACHE_0],338)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__97430203._.js.map