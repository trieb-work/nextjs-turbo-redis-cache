{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/jannikzinkl/Documents/git/nextjs-turbo-redis-cache/test/integration/next-app-16-1-1-cache-components/src/app/cache-lab/tag-invalidation/page.tsx"],"sourcesContent":["import Link from 'next/link';\nimport { cacheTag, updateTag, revalidateTag, cacheLife } from 'next/cache';\nimport { Suspense } from 'react';\n\nasync function getTaggedData() {\n  'use cache';\n\n  cacheLife({ stale: 5, revalidate: 10, expire: 60 });\n  cacheTag('cache-lab:tag');\n\n  return {\n    value: Math.random(),\n    createdAt: Date.now(),\n  };\n}\n\nasync function doUpdateTag() {\n  'use server';\n  updateTag('cache-lab:tag');\n}\n\nasync function doRevalidateTag() {\n  'use server';\n  revalidateTag('cache-lab:tag', { expire: 1 });\n}\n\nasync function CachedTaggedPanel() {\n  const data = await getTaggedData();\n  return (\n    <div className=\"rounded-lg border p-5\">\n      <dl className=\"grid grid-cols-1 gap-3 text-sm\">\n        <div>\n          <dt className=\"font-medium\">createdAt</dt>\n          <dd data-testid=\"createdAt\" className=\"font-mono text-slate-700\">\n            {data.createdAt}\n          </dd>\n        </div>\n        <div>\n          <dt className=\"font-medium\">value</dt>\n          <dd data-testid=\"value\" className=\"font-mono text-slate-700\">\n            {data.value}\n          </dd>\n        </div>\n        <div>\n          <dt className=\"font-medium\">cacheLife</dt>\n          <dd className=\"font-mono text-slate-700\">\n            {'{ stale: 5, revalidate: 10, expire: 60 }'}\n          </dd>\n        </div>\n      </dl>\n    </div>\n  );\n}\n\nexport default function TagInvalidationPage() {\n  return (\n    <main className=\"mx-auto max-w-3xl p-10\">\n      <div className=\"mb-6\">\n        <Link\n          className=\"text-sm text-blue-600 hover:underline\"\n          href=\"/cache-lab\"\n        >\n          ← Back to Cache Lab\n        </Link>\n      </div>\n\n      <header className=\"mb-6\">\n        <h1 className=\"text-2xl font-semibold\">\n          Tags: updateTag vs revalidateTag\n        </h1>\n        <p className=\"mt-2 text-sm text-slate-600\">\n          This page caches a function tagged with{' '}\n          <code>cacheTag('cache-lab:tag')</code>. Use the buttons to invalidate.\n        </p>\n      </header>\n\n      <Suspense\n        fallback={\n          <div className=\"rounded-lg border bg-slate-50 p-5 text-sm text-slate-700\">\n            Loading cached tagged content…\n          </div>\n        }\n      >\n        <CachedTaggedPanel />\n      </Suspense>\n\n      <div className=\"mt-6 flex flex-col gap-3 sm:flex-row\">\n        <form action={doUpdateTag}>\n          <button\n            className=\"w-full rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700\"\n            type=\"submit\"\n          >\n            updateTag('cache-lab:tag')\n          </button>\n        </form>\n\n        <form action={doRevalidateTag}>\n          <button\n            className=\"w-full rounded-md border border-blue-600 bg-white px-4 py-2 text-sm font-medium text-blue-700 hover:bg-blue-50\"\n            type=\"submit\"\n          >\n            revalidateTag('cache-lab:tag')\n          </button>\n        </form>\n      </div>\n\n      <div className=\"mt-6 rounded-lg border bg-slate-50 p-5 text-sm text-slate-700\">\n        <div className=\"space-y-2\">\n          <p>Expected: values should stay stable on reloads.</p>\n          <p>\n            <strong>updateTag</strong> is intended for “expire + immediately\n            refresh within the same request” (used after mutations in Server\n            Actions).\n          </p>\n          <p>\n            <strong>revalidateTag</strong> invalidates tagged entries with\n            stale-while-revalidate behavior.\n          </p>\n          <p>\n            This page deliberately puts the async work behind{' '}\n            <code>{'<Suspense>'}</code> to avoid the \"Blocking Route\" warning.\n          </p>\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;wQAAA;AACA;;;;;;;;AAGA,MAAA,6BAAA,eAAe;IAGb,IAAA,2SAAS,EAAC;QAAE,OAAO;QAAG,YAAY;QAAI,QAAQ;IAAG;IACjD,IAAA,0SAAQ,EAAC;IAET,OAAO;QACL,OAAO,KAAK,MAAM;QAClB,WAAW,KAAK,GAAG;IACrB;AACF;IAVA,4YAAA,SAAe;WAAf;;AAAA;;;;IAAe;MAYf,wBAAA,eAAe;IAEb,IAAA,2SAAS,EAAC;AACZ;gZAHA;IAAe,cAAf;MAKA,wBAAA,eAAe;IAEb,IAAA,+SAAa,EAAC,iBAAiB;QAAE,QAAQ;IAAE;AAC7C;gZAHA;IAAe,kBAAf;AAKA,eAAe;IACb,MAAM,OAAO,MAAM;IACnB,qBACE,+YAAC;QAAI,WAAU;kBACb,cAAA,+YAAC;YAAG,WAAU;;8BACZ,+YAAC;;sCACC,+YAAC;4BAAG,WAAU;sCAAc;;;;;;sCAC5B,+YAAC;4BAAG,eAAY;4BAAY,WAAU;sCACnC,KAAK,SAAS;;;;;;;;;;;;8BAGnB,+YAAC;;sCACC,+YAAC;4BAAG,WAAU;sCAAc;;;;;;sCAC5B,+YAAC;4BAAG,eAAY;4BAAQ,WAAU;sCAC/B,KAAK,KAAK;;;;;;;;;;;;8BAGf,+YAAC;;sCACC,+YAAC;4BAAG,WAAU;sCAAc;;;;;;sCAC5B,+YAAC;4BAAG,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAMb;AAEe,SAAS;IACtB,qBACE,+YAAC;QAAK,WAAU;;0BACd,+YAAC;gBAAI,WAAU;0BACb,cAAA,+YAAC,2VAAI;oBACH,WAAU;oBACV,MAAK;8BACN;;;;;;;;;;;0BAKH,+YAAC;gBAAO,WAAU;;kCAChB,+YAAC;wBAAG,WAAU;kCAAyB;;;;;;kCAGvC,+YAAC;wBAAE,WAAU;;4BAA8B;4BACD;0CACxC,+YAAC;0CAAK;;;;;;4BAAgC;;;;;;;;;;;;;0BAI1C,+YAAC,kXAAQ;gBACP,wBACE,+YAAC;oBAAI,WAAU;8BAA2D;;;;;;0BAK5E,cAAA,+YAAC;;;;;;;;;;0BAGH,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAK,QAAQ;kCACZ,cAAA,+YAAC;4BACC,WAAU;4BACV,MAAK;sCACN;;;;;;;;;;;kCAKH,+YAAC;wBAAK,QAAQ;kCACZ,cAAA,+YAAC;4BACC,WAAU;4BACV,MAAK;sCACN;;;;;;;;;;;;;;;;;0BAML,+YAAC;gBAAI,WAAU;0BACb,cAAA,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;sCAAE;;;;;;sCACH,+YAAC;;8CACC,+YAAC;8CAAO;;;;;;gCAAkB;;;;;;;sCAI5B,+YAAC;;8CACC,+YAAC;8CAAO;;;;;;gCAAsB;;;;;;;sCAGhC,+YAAC;;gCAAE;gCACiD;8CAClD,+YAAC;8CAAM;;;;;;gCAAoB;;;;;;;;;;;;;;;;;;;;;;;;AAMvC"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///Users/jannikzinkl/Documents/git/nextjs-turbo-redis-cache/test/integration/next-app-16-1-1-cache-components/.next-internal/server/app/cache-lab/tag-invalidation/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_2 as '0067af2469662d1c778eb30c309e5c4d8807f51367'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_ACTION_1 as '00c9ddd2fcdae52932c2c6d03b7f6f63bcac356c46'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_CACHE_0 as '8064d216c6b4c913f3e693ec57998ffea95c56d340'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}