{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/jannikzinkl/Documents/git/nextjs-turbo-redis-cache/test/integration/next-app-16-1-1-cache-components/src/app/revalidation-interface.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\n// Define API routes for path-based revalidation\nconst apiRoutePaths: Record<string, string> = {\n  'Cached Static Fetch': '/api/cached-static-fetch',\n  'Uncached Fetch': '/api/uncached-fetch',\n  'Revalidated Fetch': '/api/revalidated-fetch',\n  'Nested Fetch in API Route':\n    '/api/nested-fetch-in-api-route/revalidated-fetch',\n};\n\n// Define API routes with tags for tag-based revalidation\nconst apiRouteTags: Record<string, string> = {\n  'Revalidated Fetch in Nested API Route':\n    'revalidated-fetch-revalidate3-nested-fetch-in-api-route',\n  'Revalidated Fetch API': 'revalidated-fetch-api',\n  'Cached Static Fetch API': 'cached-static-fetch-api',\n  'Uncached Fetch API': 'uncached-fetch-api',\n};\n\n// Revalidation Interface Component\nexport function RevalidationInterface() {\n  const [selectedPathRoute, setSelectedPathRoute] = useState('');\n  const [selectedTagRoute, setSelectedTagRoute] = useState('');\n  const [revalidationStatus, setRevalidationStatus] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handlePathRevalidate = async () => {\n    if (!selectedPathRoute) {\n      setRevalidationStatus('Please select an API route to revalidate by path');\n      return;\n    }\n\n    setIsLoading(true);\n    setRevalidationStatus('Revalidating API route by path...');\n\n    try {\n      const path = apiRoutePaths[selectedPathRoute];\n      const response = await fetch(`/api/revalidatePath?path=${path}`);\n      const data = await response.json();\n\n      if (response.ok) {\n        setRevalidationStatus(\n          `Successfully revalidated API route by path: ${selectedPathRoute} (${path})`,\n        );\n      } else {\n        setRevalidationStatus(`Error: ${data.error || 'Unknown error'}`);\n      }\n    } catch (error: unknown) {\n      const errorMessage =\n        error instanceof Error ? error.message : 'Unknown error';\n      setRevalidationStatus(`Error: ${errorMessage}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleTagRevalidate = async () => {\n    if (!selectedTagRoute) {\n      setRevalidationStatus('Please select an API route to revalidate by tag');\n      return;\n    }\n\n    setIsLoading(true);\n    setRevalidationStatus('Revalidating API route by tag...');\n\n    try {\n      const tag = apiRouteTags[selectedTagRoute];\n      const response = await fetch(`/api/revalidateTag?tag=${tag}`);\n      const data = await response.json();\n\n      if (response.ok) {\n        setRevalidationStatus(\n          `Successfully revalidated API route by tag: ${selectedTagRoute} (tag: ${tag})`,\n        );\n      } else {\n        setRevalidationStatus(`Error: ${data.error || 'Unknown error'}`);\n      }\n    } catch (error: unknown) {\n      const errorMessage =\n        error instanceof Error ? error.message : 'Unknown error';\n      setRevalidationStatus(`Error: ${errorMessage}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        border: '1px solid #eaeaea',\n        padding: '25px',\n        borderRadius: '8px',\n        boxShadow: '0 4px 6px rgba(0,0,0,0.05)',\n        backgroundColor: '#fff',\n        marginBottom: '30px',\n      }}\n    >\n      <h3\n        style={{\n          fontSize: '1.4rem',\n          color: '#0070f3',\n          marginTop: '0',\n          marginBottom: '15px',\n          borderBottom: '1px solid #eaeaea',\n          paddingBottom: '10px',\n        }}\n      >\n        API Route Revalidation Interface\n      </h3>\n\n      {/* Path-based revalidation section */}\n      <div\n        style={{\n          padding: '15px',\n          marginBottom: '20px',\n          backgroundColor: '#f9f9f9',\n          borderRadius: '5px',\n          border: '1px solid #eaeaea',\n        }}\n      >\n        <h4\n          style={{\n            fontSize: '1.1rem',\n            color: '#0070f3',\n            marginTop: '0',\n            marginBottom: '15px',\n          }}\n        >\n          Revalidate API Route by Path\n        </h4>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label\n            style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}\n          >\n            Select API Route:\n          </label>\n          <select\n            value={selectedPathRoute}\n            onChange={(e) => setSelectedPathRoute(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '10px',\n              borderRadius: '5px',\n              border: '1px solid #ddd',\n              fontSize: '1rem',\n            }}\n          >\n            <option value=\"\">-- Select an API route --</option>\n            {Object.keys(apiRoutePaths).map((route) => (\n              <option key={route} value={route}>\n                {route}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <button\n          onClick={handlePathRevalidate}\n          disabled={isLoading || !selectedPathRoute}\n          style={{\n            backgroundColor: '#0070f3',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: '5px',\n            fontSize: '1rem',\n            fontWeight: '500',\n            cursor: isLoading || !selectedPathRoute ? 'not-allowed' : 'pointer',\n            opacity: isLoading || !selectedPathRoute ? 0.7 : 1,\n            transition: 'all 0.2s',\n          }}\n        >\n          {isLoading ? 'Revalidating...' : 'Revalidate by Path'}\n        </button>\n      </div>\n\n      {/* Tag-based revalidation section */}\n      <div\n        style={{\n          padding: '15px',\n          marginBottom: '20px',\n          backgroundColor: '#f9f9f9',\n          borderRadius: '5px',\n          border: '1px solid #eaeaea',\n        }}\n      >\n        <h4\n          style={{\n            fontSize: '1.1rem',\n            color: '#0070f3',\n            marginTop: '0',\n            marginBottom: '15px',\n          }}\n        >\n          Revalidate API Route by Tag\n        </h4>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label\n            style={{ display: 'block', marginBottom: '8px', fontWeight: '500' }}\n          >\n            Select API Route with Tag:\n          </label>\n          <select\n            value={selectedTagRoute}\n            onChange={(e) => setSelectedTagRoute(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '10px',\n              borderRadius: '5px',\n              border: '1px solid #ddd',\n              fontSize: '1rem',\n            }}\n          >\n            <option value=\"\">-- Select an API route with tag --</option>\n            {Object.keys(apiRouteTags).map((route) => (\n              <option key={route} value={route}>\n                {route}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <button\n          onClick={handleTagRevalidate}\n          disabled={isLoading || !selectedTagRoute}\n          style={{\n            backgroundColor: '#0070f3',\n            color: 'white',\n            border: 'none',\n            padding: '10px 20px',\n            borderRadius: '5px',\n            fontSize: '1rem',\n            fontWeight: '500',\n            cursor: isLoading || !selectedTagRoute ? 'not-allowed' : 'pointer',\n            opacity: isLoading || !selectedTagRoute ? 0.7 : 1,\n            transition: 'all 0.2s',\n          }}\n        >\n          {isLoading ? 'Revalidating...' : 'Revalidate by Tag'}\n        </button>\n      </div>\n\n      {/* Status display */}\n      {revalidationStatus && (\n        <div\n          style={{\n            marginTop: '15px',\n            padding: '10px',\n            borderRadius: '5px',\n            backgroundColor: revalidationStatus.includes('Error')\n              ? '#ffebee'\n              : '#e3f2fd',\n            color: revalidationStatus.includes('Error') ? '#c62828' : '#0070f3',\n            border: `1px solid ${revalidationStatus.includes('Error') ? '#ffcdd2' : '#bbdefb'}`,\n          }}\n        >\n          {revalidationStatus}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}